{{ define "main" }}
<!-- Banner -->
  {{ with site.GetPage "sections/banner" }}
    {{ if .Params.enable }}
      <section>
          <div class="swiper banner-slider">
<!--            <div id="lights"></div>-->
            <div class="swiper-wrapper">
              {{ range .Params.images }}
                <div class="swiper-slide">
                  {{ partial "image" (dict "Src" .img "Alt" .alt "Loading" "eager" "Class" "w-full") }}
                </div>
              {{ end }}
            </div>
            <!-- If we need navigation buttons -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>

            <!-- If we need pagination -->
            <div class="swiper-pagination"></div>
          </div>
      </section>
    {{ end }}
  {{ end }}
  <!-- /Banner -->

  <!-- Features -->
  <section class="py-4 bg-gradient-to-b from-white to-itcs_light/30">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4">
        {{ range $i, $e:= site.Data.featured_services }}
        <div class="group">
          <a class="relative flex flex-col items-center justify-center text-center p-4 lg:p-5 h-full bg-white rounded-xl shadow-md hover:shadow-2xl transform transition-all duration-300 hover:-translate-y-2 border-2 border-transparent hover:border-itcs_dark overflow-hidden" href="{{ .link | relURL }}">
            <!-- Gradient overlay on hover -->
            <div class="absolute inset-0 bg-gradient-to-br from-itcs_dark to-itcs_dark/90 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"></div>
            
            <!-- Icon container -->
            <div class="relative z-10 mb-3 w-16 h-16 lg:w-20 lg:h-20 flex items-center justify-center rounded-full bg-blue-700 group-hover:bg-white transition-all duration-300 shadow-sm">
              <span class="fa fa-{{.icon}} text-3xl lg:text-4xl text-white group-hover:!text-blue-700 transition-colors duration-300"></span>
            </div>
            
            <!-- Title -->
            <span class="relative z-10 font-secondary uppercase font-bold text-base lg:text-xl text-itcs_dark group-hover:text-white transition-colors duration-300 leading-tight">{{ .title | markdownify }}</span>
            
            <!-- Decorative element -->
            <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-itcs_red to-itcs_dark transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
          </a>
        </div>
        {{ end }}
      </div>
    </div>
  </section>
  <!-- /Features -->
   
  {{with .Params.mission}}
    <section class="p-8 bg-itcs_light">
      <div class="container">
        <div class="grid grid-cols-2 gap-8 items-center">
          <div>
            <h2 class="font-secondary uppercase text-itcs_dark text-3xl md:text-4xl lg:text-5xl mb-10 relative">
              {{ .title }}
              <div class="absolute -bottom-2 left-0 w-64 h-1 bg-gradient-to-r from-itcs_red to-itcs_dark rounded-full"></div>
            </h2>
            <div>
              <p class="text-lg">{{ .content }}</p>
            </div>
          </div>
          <div>
            {{ partial "image" (dict "Src" .image "Alt" .imageAlt "Loading" "eager" "Class" "w-80 m-auto") }}
          </div>
        </div>
      </div>
    </section>
  {{end}}

<!-- Service Areas -->
{{ with .Params.service_areas }}
  {{ if .enable }}
    <section class="py-12 md:py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center">
          
          <!-- Map Image -->
          <div class="order-2 lg:order-1">
            <div class="relative rounded-2xl overflow-hidden shadow-xl">
              {{ partial "image" (dict "Src" .image "Alt" .imageAlt "Loading" "eager" "Class" "w-full") }}
            </div>
          </div>

          <!-- Service Areas List -->
          <div class="order-1 lg:order-2">
            <div class="mb-8">
              <h2 class="font-secondary uppercase text-itcs_dark text-3xl md:text-4xl lg:text-5xl mb-4 relative inline-block">
                {{ .title | markdownify }}
                <div class="absolute -bottom-2 left-0 w-32 h-1 bg-gradient-to-r from-itcs_red to-itcs_dark rounded-full"></div>
              </h2>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
              {{ range $i, $e := site.Data.serving_areas }}
              <div class="group bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 p-5 border-l-4 border-itcs_red hover:border-itcs_dark">
                <h3 class="font-secondary font-bold uppercase text-lg text-itcs_dark mb-3">
                  {{ .county_name | markdownify }}
                </h3>
                <ul class="space-y-1.5">
                  {{ range $i, $e := .towns }}
                  <li class="flex items-center text-gray-700">
                    <span class="fa fa-map-marker-alt text-itcs_red mr-2 text-sm"></span>
                    <span>{{ $e }}</span>
                  </li>
                  {{ end }}
                </ul>
              </div>
              {{ end }}
            </div>
          </div>

        </div>
      </div>
    </section>
  {{ end }}
{{ end }}
<!-- /Service Areas -->

  <!-- Testimonials -->
<!--  {{ with site.GetPage "sections/testimonial" }}-->
<!--    {{ if .Params.enable }}-->
<!--      <section class="section">-->
<!--        <div class="container">-->
<!--          <div class="row">-->
<!--            <div class="md:col-10 lg:col-8 xl:col-6 mx-auto mb-12 text-center">-->
<!--              <h2 class="mb-4">-->
<!--                {{ .Title | markdownify }}-->
<!--              </h2>-->
<!--              <p>-->
<!--                {{ .Params.description | markdownify }}-->
<!--              </p>-->
<!--            </div>-->
<!--            <div class="col-12">-->
<!--              <div class="swiper testimonial-slider">-->
<!--                <div class="swiper-wrapper">-->
<!--                  {{ range .Params.testimonials }}-->
<!--                    <div class="swiper-slide">-->
<!--                      <div-->
<!--                        class="bg-theme-light  rounded-lg px-7 py-10">-->
<!--                        <div class="text-dark ">-->
<!--                          <svg-->
<!--                            width="33"-->
<!--                            height="20"-->
<!--                            viewBox="0 0 33 20"-->
<!--                            fill="none"-->
<!--                            xmlns="http://www.w3.org/2000/svg">-->
<!--                            <path-->
<!--                              d="M1.28375 19.41L0.79375 18.64C1.21375 17.0067 1.75042 15.07 2.40375 12.83C3.05708 10.5433 3.75708 8.28 4.50375 6.04C5.29708 3.75333 6.06708 1.77 6.81375 0.0899959H15.3538C14.9338 2.09666 14.4904 4.26667 14.0238 6.6C13.5571 8.88666 13.1371 11.15 12.7638 13.39C12.4371 15.5833 12.1571 17.59 11.9238 19.41H1.28375ZM31.69 0.0899959L32.18 0.859998C31.76 2.54 31.2233 4.5 30.57 6.74C29.9167 8.98 29.2167 11.2433 28.47 13.53C27.7233 15.77 26.9533 17.73 26.16 19.41H17.69C18.0167 17.9167 18.3433 16.33 18.67 14.65C18.9967 12.9233 19.3 11.22 19.58 9.54C19.9067 7.81333 20.1867 6.15667 20.42 4.57C20.7 2.93666 20.91 1.44333 21.05 0.0899959H31.69Z"-->
<!--                              fill="currentColor" />-->
<!--                          </svg>-->
<!--                        </div>-->
<!--                        <blockquote class="mt-8">-->
<!--                          {{ .content | markdownify }}-->
<!--                        </blockquote>-->
<!--                        <div class="mt-11 flex items-center">-->
<!--                          <div class="text-dark ">-->
<!--                            {{ partial "image" (dict "Src" .avatar "Size" "50x50" "Class" "rounded-full" "Alt" .name) }}-->
<!--                          </div>-->
<!--                          <div class="ml-4">-->
<!--                            <h3 class="h5 font-primary font-semibold">-->
<!--                              {{ .name }}-->
<!--                            </h3>-->
<!--                            <p class="text-dark ">-->
<!--                              {{ .designation | markdownify }}-->
<!--                            </p>-->
<!--                          </div>-->
<!--                        </div>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  {{ end }}-->
<!--                </div>-->
<!--                <div-->
<!--                  class="testimonial-slider-pagination mt-9 flex items-center justify-center text-center"></div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--      </section>-->
<!--    {{ end }}-->
<!--  {{ end }}-->
  <!-- /Testimonials -->

  <!-- Contact -->
  <section class="section-sm bg-gradient-to-br from-itcs_light to-white">
    <div class="container">
      <div class="row">
        <div class="md:col-10 lg:col-8 mx-auto" id="contact">
          <div class="text-center mb-8">
            <h2 class="text-itcs_dark font-secondary uppercase mb-3">Get In Touch</h2>
            <p class="text-lg text-gray-600">Have a question or need service? We're here to help!</p>
          </div>
<!--          <form action="{{ site.Params.contact_form_action }}" method="POST" data-static-form-name="contact">-->
          <form id="contactForm" class="contact-form-enhanced">
            <div class="hidden mb-6 font-semibold bg-red-50 text-red-700 border-2 border-red-300 rounded-lg p-4 shadow-sm" id="contactForm-error">
              <span class="inline-block mr-2">⚠️</span> An error occurred trying to send your inquiry, please try again shortly.
            </div>
            <div class="grid md:grid-cols-2 gap-6 mb-6">
              <div class="form-group">
                <label for="name" class="form-label-enhanced">
                  <span class="text-itcs_dark font-semibold">Full Name</span>
                  <span class="text-itcs_red ml-1">*</span>
                </label>
                <input
                  id="name"
                  name="name"
                  class="form-input-enhanced"
                  placeholder="John Doe"
                  title="Full Name"
                  type="text"
                  required />
              </div>
              <div class="form-group">
                <label for="email" class="form-label-enhanced">
                  <span class="text-itcs_dark font-semibold">Email Address</span>
                  <span class="text-itcs_red ml-1">*</span>
                </label>
                <input
                  id="email"
                  name="email"
                  class="form-input-enhanced"
                  placeholder="john@example.com"
                  title="Email"
                  type="email"
                  required />
              </div>
            </div>
            <div class="grid md:grid-cols-2 gap-6 mb-6">
              <div class="form-group">
                <label for="phone" class="form-label-enhanced">
                  <span class="text-itcs_dark font-semibold">Phone Number</span>
                  <span class="text-itcs_red ml-1">*</span>
                </label>
                <input
                  type="text"
                  id="phone"
                  name="phone"
                  class="form-input-enhanced"
                  placeholder="(555) 123-4567"
                  required />
              </div>
              <div class="form-group">
                <label for="address" class="form-label-enhanced">
                  <span class="text-itcs_dark font-semibold">Address</span>
                </label>
                <input
                  type="text"
                  id="address"
                  name="address"
                  class="form-input-enhanced"
                  placeholder="123 Main St, City, ZIP" />
              </div>
            </div>
            <div class="form-group mb-6">
              <label for="message" class="form-label-enhanced">
                <span class="text-itcs_dark font-semibold">How Can We Help?</span>
                <span class="text-itcs_red ml-1">*</span>
              </label>
              <textarea
                id="message"
                name="message"
                class="form-input-enhanced"
                placeholder="Tell us about your HVAC needs, and we'll get back to you promptly..."
                rows="6"
                required></textarea>
            </div>
            <div class="text-center">
              <button type="submit" class="btn-submit-enhanced">
                <span class="fa fa-paper-plane mr-2"></span>
                Send Message
              </button>
              <p class="text-sm text-gray-500 mt-4">We typically respond within 24 business hours</p>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  {{ with site.Params.subscription }}
  {{ if .enable }}
  <!-- subscription form -->
  <form
          action="{{ .mailchimp_form_action | safeURL }}"
          method="post"
          id="mc-embedded-subscribe-form"
          novalidate="novalidate">
    <div class="input-group w-75 mx-auto mb-3">
      <input
              type="email"
              name="EMAIL"
              placeholder="Email"
              class="form-control required email mce_inline_error"
              id="mce-EMAIL"
              aria-required="true"
              autocomplete="off"
              required />
      <button
              class="input-group-text"
              name="subscribe"
              id="mc-embedded-subscribe">
        {{ .button_label }}
      </button>
    </div>
    <input
            type="hidden"
            name="EMAILTYPE"
            id="mce-EMAILTYPE-0"
            value="html" />
    <div style="position:absolute;left:-5000px" aria-hidden="true">
      <input type="text" name="{{ .name }}" tabindex="-1" />
    </div>
  </form>
  <div id="mce-responses" class="clear">
    <div
            class="response text-white"
            id="mce-error-response"
            style="display:none"></div>
    <div
            class="response text-white"
            id="mce-success-response"
            style="display:none"></div>
  </div>
  <script
          type="text/javascript"
          src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script>
  <!-- /subscription form -->
  {{ end }}
  {{ end }}

  <!-- /Contact -->

{{ end }}
